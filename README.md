# Ruby Comparison Operators

Ruby Comparison Operators ถ้าให้เข้าใจง่าย ๆ มันก็คือ เครื่องหมาย (หรือตัวดำเนินการ) ที่เอาไว้ใช้เปรียบเทียบค่านึงกับอีกค่านึง เมื่อเปรียบเทียบเสร็จจะคืนค่าตรรกะ (หรือค่าความจริง/เท็จ) กลับมา เพื่อให้เราเอาไปใช้เป็นทางเลือกให้กับโปรแกรมเรา อย่างเช่น ถ้าเปรียบเทียบว่าปีนี้เท่ากับ 2569 แล้วเป็นจริงจะให้พิมพ์ "สวัสดีปีใหม่" ออกมา แต่ถ้าไม่จริง จะให้พิมพ์ "รอก่อน" ออกมา จะทำให้โปรแกรมของเราไม่ส่งแต่ผลลัพธ์เดิมออกมา แต่มันจะขึ้นอยู่กับปีปัจจุบันว่าเป็นปี 2569 หรือไม่แทน

ตัวดำเนินการเปรียบเทียบที่จริงเป็นสิ่งที่เราเห็นผ่านตาอยู่ในชีวิตประจำวันอยู่แล้ว ในม.3 เราก็คงเคยผ่านเรื่องอสมการกันมาบ้าง อย่างเช่น x > 9 แปลว่า x สามารถเป็นได้ตั้งแต่มากกว่า 9 เป็นต้นไป (9, +inf) ดังนั้นในภาษา Ruby มีความหมายว่าถ้า x เป็นค่าใด ๆ ที่มากกว่า 9 อย่างเช่น x = 9.01, x = 10 หรือ x = 11 หลังเปรียบเทียบค่าเสร็จแล้วค่าตรรกะจะเป็นจริง หรือถ้าจะเป็นเรื่องของสมการในป.6 อย่างเช่น y = 25 ในสมการคณิตศาสตร์ ในภาษา Ruby จะมีความหมายประมาณว่าเปรียบเทียบค่าของ y กับค่า 25 (ซึ่งในภาษา Ruby ไม่ได้ใช้เป็นเครื่องหมายเท่ากับ แต่จะขอละไว้ก่อนแล้วค่อยอธิบายในหัวข้อถัด ๆ ไป) เมื่อเปรียบเทียบเสร็จจะคืนค่าตรรกะออกมา ถ้า y เป็น -1 จะคืนค่าตรรกะเป็นเท็จออกมา แต่ถ้า y เป็น 25 จะคืนค่าตรรกะเป็นจริงออกจริงออกมาแทน

## ตารางตัวดำเนินการเปรียบเทียบตัวต่าง ๆ

<table><thead><tr><th width="100">ตัวดำเนินการ</th><th>ลักษณะการทำงาน</th></tr></thead><tbody><tr><td>==</td><td>เปรียบเทียบความเท่ากัน ถ้าเท่ากันจะคืนค่าตรรกะค่าจริง ถ้าไม่เท่ากันจะคืนค่าตรรกะเท็จ</td></tr><tr><td>!=</td><td>เปรียบเทียบความเท่ากัน ถ้าเท่ากันจะคืนค่าตรรกะค่าเท็จ ถ้าไม่เท่ากันจะคืนค่าตรรกะจริง</td></tr><tr><td>&#x3C;</td><td>เปรียบเทียบค่าด้านซ้ายน้อยกว่าค่าด้านขวาหรือไม่ ถ้าใช่คืนค่าตรรกะจริง ถ้าไม่ใช้จะคืนค่าเท็จ</td></tr><tr><td>&#x3C;=</td><td>เปรียบเทียบค่าด้านซ้ายน้อยกว่าหรือเท่ากับค่าด้านขวาหรือไม่ ถ้าใช่คืนค่าตรรกะจริง ถ้าไม่ใช้จะคืนค่าเท็จ</td></tr><tr><td>></td><td>เปรียบเทียบค่าด้านซ้ายมากกว่าค่าด้านขวาหรือไม่ ถ้าใช่คืนค่าตรรกะจริง ถ้าไม่ใช้จะคืนค่าเท็จ</td></tr><tr><td>>=</td><td>เปรียบเทียบค่าด้านซ้ายมากกว่าหรือเท่ากับค่าด้านขวาหรือไม่ ถ้าใช่คืนค่าตรรกะจริง ถ้าไม่ใช้จะคืนค่าเท็จ</td></tr><tr><td>&#x3C;=></td><td>เปรียบเทียบค่าด้านซ้ายกับด้านขวา ถ้าค่าด้านซ้ายน้อยกว่าด้านขวา จะคืนค่า -1 ถ้าทั้งสองค่าเท่ากัน จะคืนค่า 0 ถ้าค่าด้านซ้ายมากกว่าดด้านขวา จะคืนค่า 1</td></tr><tr><td>===</td><td>ตรวจสอบว่าค่าด้านขวา เป็นส่วนหนึ่งของค่าด้านซ้ายหรือไม่ ถ้าใช่คืนค่าตรรกะจริง ถ้าไม่ใช่คืนค่าตรรกะเท็จ</td></tr><tr><td>=~</td><td>ตรวจสอบว่าลักษณะรูปแบบของข้อความขวา (string) ว่าตรงกับหรือเป็นส่วนหนึ่งของข้อความซ้ายหรือไม่ โดยถ้าเจอจะคืนค่า <code>index</code> เริ่มต้นของรูปแบบที่เจอของข้อความซ้ายมาให้ ถ้าไม่เจอจะคืน nil</td></tr><tr><td>!~</td><td>ตัวดำเนินการตัวนี้ทำงานเป็นนิเสธของตัวดำเนินการ <code>=~</code> ทำงานโดยตรวจสอบว่าลักษณะรูปแบบของข้อความขวา (string) ว่าต้องไม่ตรงหรือไม่เป็นส่วนหนึ่งของข้อความซ้าย ถ้าดำเนินการเปรียบเทียบแล้วว่าข้อความขวาไม่เป็นส่วนหนึ่งของข้อความซ้ายจะคืนค่าตรรกะจริงออกมา และคืนค่าเท็จออกมาในเชิงตรงกันข้าม ก็คือพบว่าข้อความขวาเป็นส่วนหนึ่งของข้อความซ้าย</td></tr></tbody></table>

## ตัวดำเนินการ ==

### 1. ใช้ตรวจสอบว่าเป็น Object เดียวกันหรือไม่

#### วิธีการใช้งาน

```ruby
obj = Object.new()
puts obj == obj
puts obj == Object.new()
```

จะแสดงผลออกมาเป็น

```
true
false
```

ที่ผลลัพธ์บรรทัด 1 แสดงผลออกมาเป็น `true` เพราะว่าเปรียบเทียบ `obj` กับ `obj` ซึ่ง `obj` นั้นคือตัวเดียวกัน ทำให้มีตำแหน่งในหน่วยความจำที่นำมาเปรียบเทียบเป็นตำแหน่งเดียวกันจึงมีผลลัพธ์เป็น true

ที่ผลลัพธ์บรรทัดที่ 2 แสดงผลออกมาเป็น `false` เนื่องจาก `obj` กับ `Object.new()` ในบรรทัดที่ 3 คือคนละตัวกัน

มีบาง class อย่างเช่น `String` ที่กำหนดการทำงานของ `==` ขึ้นใหม่ ทำให้ไม่สามารถตรวจตอบว่าเป็น `Object` เดียวกันด้วยวิธีนี้ได้ โดย `==` ของ String จะเป็นการตรวจสอบว่าเป็นข้อความเดียวกันไหมแทน

#### เทียบกับภาษาอื่น ๆ&#x20;

> C

ภาษา C ไม่ได้เป็นภาษาเชิงวัตถุ จึงไม่มีวัตถุให้มาตรวจสอบ

> Python

```python
data1 = []
data2 = []
data3=data1

if (data1 == data2):
    print("True")
else:
    print("False")
if (data1 is data2):
    print("True")
else:
    print("False")
if (data1 is data3):
    print("True")
else:
    print("False")
```

จะแสดงผลลัพธ์เป็น

```
This is true.
This is false.
This is true.
```

ที่ผลลัพธ์บรรทัดที่ 1 เป็น `true` เพราะ ค่าใน `data1` เท่ากับค่าของ `data2`

ที่ผลลัพธ์บรรทัดที่ 2 เป็น `false` เพราะ `data1` ไม่ใช่ตัวเดียวกันกับ `data2`

ที่ผลลัพธ์บรรทัดที่ 3 เป็น `true` เพราะ `data1` เป็นตัวเดียวกันกับ `data2`

> Java

```java
class main {
	public static void main(String[] args) {
		Object x = new Object();
		Object y = new Object();
		System.out.println(x == y);
	}
}
```

จะแสดงผลลัพธ์เป็น `false` เนื่องจากเป็นคนละ Object

### 2. ใช้เปรียบเทียบค่า

```ruby
puts 10 == 10                   # เช็ก number
puts 5 == 9 / 2.0
puts "hello" == "hello"         # เช็ก String
puts [1, "a", true] == [1, "a", true] # เช๊ก array
h1 = { name: "Alice", role: "admin" }
h2 = { role: "admin", name: "Alice" }
puts h1 == h2                   # เช็ก hash
puts :hello == :world           # เช็ก symbol
puts true == true               # เช็ก boolean
puts nil == nil                 # เช็กค่า nil ซึ่งมีค่าใน boolean เท่ากับ false 
```

จงแสดงผลลัพธ์เป็น

```
true
false
true
true
true
false
true
true
```

ที่แสดงผลลัพธ์เป็น true เพราะว่าทั้งสองค่ามีค่าเท่าทัน

ที่ผลลัพธ์บรรทัดที่ 2 มีผลลัพธ์เป็น `false` เพราะว่าใน 5 ไม่เท่ากับ 4.5

และที่ผลลัพธ์บรรทัดที่ 6 มีผลลัพธ์เป็น `false` เพราะว่า symbol มีซื่อ symbol ที่ไม่เหมือนกัน

#### เทียบกับภาษาอื่น ๆ&#x20;

> C

```c
#include <stdio.h>

int main() {
	int x = 6;
        printf("%d\n", x == 6);
	printf("%d\n", x == -6);
	return 0;
}
```

จะได้ผลลัพธ์เป็น

```
1
0
```

ที่ได้ผลลัพธ์เป็น 1 กับ 0 ในภาษา C เพราะว่าภาษา C ไม่มี boolean แต่จะถือว่า 0 เป็นค่าตรรกะเท็จ และค่าอื่น ๆ ที่ไม่ใช่ 0 จะเป็นจริงทั้งหมด&#x20;
